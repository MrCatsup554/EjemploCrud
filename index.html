<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Control Escolar</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <h2>Sistema de Control Escolar</h2>
    <hr>


    <button onclick="openModal(true)" style="padding: 10px 20px; font-size: 16px; cursor: pointer;">
        + Nuevo Alumno/Personal
    </button>

    <hr>

    <table border="1" width="100%" cellpadding="8" style="border-collapse: collapse; margin-top: 20px;">
        <thead>
            <tr style="background-color: #f8f9fa;">
                <th>ID</th>
                <th>Nombre</th>
                <th>Apellido</th>
                <th>Sexo</th>
                <th>Fecha Nac.</th>
                <th>Rol</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody id="data-table">
            <tr><td colspan="7" style="text-align:center; color:gray;">Cargando registros...</td></tr>
        </tbody>
    </table>

    <div id="modal-overlay"></div>
    <div id="app-modal">
        <h3 id="modal-title" style="margin-top:0">Registro</h3>
        <form id="data-form">
            <input type="hidden" id="person-id">
            
            <div class="form-group">
                <label>Nombre(s):</label>
                <input type="text" id="fname" required>
            </div>
            <div class="form-group">
                <label>Apellidos:</label>
                <input type="text" id="lname" required>
            </div>
            <div class="form-group">
                <label>Sexo:</label>
                <select id="sex-sel" required>
                    <option value="">-- Seleccione --</option>
                    <option value="H">Hombre</option>
                    <option value="M">Mujer</option>
                    <option value="O">Otro</option>
                </select>
            </div>
            <div class="form-group">
                <label>Fecha de Nacimiento:</label>
                <input type="date" id="birth-date" required>
            </div>
            <div class="form-group">
                <label>Rol Asignado:</label>
                <select id="role-sel" required>
                    <option value="">-- Seleccione --</option>
                    <option value="1">Alumno</option>
                    <option value="2">Profesor</option>
                    <option value="3">Administrador</option>
                    <option value="4">Externo</option>
                </select>
            </div>

            <div style="text-align: right; margin-top: 25px;">
                <button type="button" onclick="closeModal()" style="padding: 8px 15px; cursor:pointer;">Cancelar</button>
                <button type="submit" id="btn-save" style="padding: 8px 20px; background:#007bff; color:white; border:none; border-radius:4px; cursor:pointer;">Guardar</button>
            </div>
        </form>
    </div>

    <div id="msg-toast" style="position: fixed; bottom: 20px; right: 20px; padding: 15px 25px; background: #333; color: white; border-radius: 5px; display: none; z-index: 2000;"></div>

    <script src="registro.js"></script>
    <footer>Creado por: Wilbert Novelo</footer>
</body>
</html>